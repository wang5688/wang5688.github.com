domReady(function(){function a(a){a.onmousedown=function(b){var c=b.clientX-a.offsetLeft,e=b.clientY-a.offsetTop;return a.style.zIndex=v++,document.onmousemove=function(b){for(var f=b.clientX-c,g=b.clientY-e,h=d(a),i=0;i<s.length;i++)s[i].style.border="3px solid #666";h&&(h.style.border="3px dashed red"),a.style.left=f+"px",a.style.top=g+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null;var b=d(a);if(b){move(b,{left:u[a.index].left,top:u[a.index].top}),move(a,{left:u[b.index].left,top:u[b.index].top});var c;c=b.index,b.index=a.index,a.index=c,b.style.border="3px solid #666"}else move(a,{left:u[a.index].left,top:u[a.index].top})},!1}}function b(a,b){var c=a.offsetLeft,d=a.offsetTop,e=a.offsetLeft+a.offsetWidth,f=a.offsetTop+a.offsetHeight,g=b.offsetLeft,h=b.offsetTop,i=b.offsetLeft+b.offsetWidth,j=b.offsetTop+b.offsetHeight;return!(e<g||f<h||c>i||d>j)}function c(a,b){var c=b.offsetLeft-a.offsetLeft,d=b.offsetTop-a.offsetTop;return Math.sqrt(c*c+d*d)}function d(a){for(var d=99999999,e=-1,f=0;f<s.length;f++)if(a!=s[f]&&b(a,s[f])){var g=c(a,s[f]);g<d&&(d=g,e=f)}return e!=-1&&s[e]}var e=document.querySelector(".nav");window.onscroll=function(){var a=document.body.scrollTop;e.offsetTop<a?(e.style.transition="1s all ease",e.style.opacity=.1):(e.style.transition="1s all ease",e.style.opacity=1)},e.onmouseenter=function(){e.style.transition="1s all ease",e.style.opacity=1},e.onmouseleave=function(){e.style.transition="1s all ease",e.style.opacity=0};var f=document.getElementById("to_top");f.onclick=function(){document.body.scrollTop;document.body.scrollTop=0};for(var g=document.querySelector(".shows"),h=g.querySelectorAll(".works"),i=0;i<h.length;i++)h[i].onclick=function(){this.style.width="80%",this.style.transform="translate(10%,0)"};var j=document.getElementById("my_resume"),k=document.getElementById("resume_box"),l=document.getElementById("resume_close");j.onclick=function(){k.style.top="50%",k.style.opacity=1},l.onclick=function(){k.style.opacity=0,k.style.top="-50%"};for(var m=document.querySelector(".my_works"),n=m.querySelectorAll("li"),o=m.querySelector(".more_prev"),p=m.querySelector(".more_next"),q=[],i=0;i<n.length;i++)q.push(n[i].className);p.onclick=function(){q.push(q.shift());for(var a=0;a<n.length;a++)n[a].className=q[a]},o.onclick=function(){q.unshift(q.pop());for(var a=0;a<n.length;a++)n[a].className=q[a]};for(var r=document.querySelector(".screen_box"),s=r.querySelectorAll("li"),t=document.getElementById("drag_btn"),u=[],i=0;i<s.length;i++)u.push({left:s[i].offsetLeft,top:s[i].offsetTop});for(var i=0;i<s.length;i++){s[i].style.position="absolute",s[i].style.left=u[i].left+"px",s[i].style.top=u[i].top+"px",s[i].style.margin=0;var v=20}t.onclick=function(){u.sort(function(){return Math.random()-.5});for(var a=0;a<u.length;a++)move(s[a],{left:u[a].left,top:u[a].top})};for(var i=0;i<s.length;i++)a(s[i]),s[i].index=i;var w=document.querySelector(".surround_box"),x=w.querySelector("ul"),y=w.querySelectorAll("li"),z=y.length;x.onclick=function(){for(var a=0;a<y.length;a++)y[a].style.transition="1s all ease "+200*(z-a)+"ms",y[a].style.transform="rotateY("+360/z*a+"deg) translateZ(400px)"},y[0].addEventListener("transitionend",function(){function a(){for(var a=0;a<z;a++){var b=Math.abs(360/z*a+d/10)%360;b>180&&(b=360-b),b=1-b/180,b<.3&&(b=.3),y[a].style.opacity=b}}function b(){for(var a=0;a<z;a++)y[a].style.transition="none"}var c=150,d=0,e=0,f=0,g=0,h=0,i=null;w.onmousedown=function(j){b();var k=j.clientX-d,l=j.clientY-c;return document.onmousemove=function(b){c=b.clientY-l,d=b.clientX-k,c>600&&(c=600),c<-600&&(c=-600),x.style.transform="perspective(800px) rotateX("+-c/10+"deg) rotateY("+d/10+"deg)",e=c-g,f=d-h,g=c,h=d,a()},document.onmouseup=function(){clearInterval(i),i=setInterval(function(){c+=e,d+=f,e*=.8,f*=.8,Math.abs(e)<1&&(e=0),Math.abs(f)<1&&(f=0),0==e&&0==f&&clearInterval(i),x.style.transform="perspective(800px) rotateX("+-c/10+"deg) rotateY("+d/10+"deg)"},30),document.onmousemove=null,document.onmouseup=null},!1},b(),a()},!1),function(){function a(a,b){return parseInt(Math.random()*(b-a)+a)}for(var b=document.querySelector(".turn_box"),c=document.getElementById("turn_next"),d=document.getElementById("turn_prev"),e=6,f=4,g=0;g<f;g++)for(var h=0;h<e;h++){var i=document.createElement("div");i.innerHTML="<span></span>",i.className="turn_lis",i.style.position="absolute",i.style.width=b.offsetWidth/e+"px",i.style.height=b.offsetHeight/f+"px",i.style.left=b.offsetWidth/e*h+"px",i.style.top=b.offsetHeight/f*g+"px",b.appendChild(i);var j=i.children[0];j.className="turn_s",j.style.backgroundPosition=-b.offsetWidth/e*h+"px -"+b.offsetHeight/f*g+"px"}for(var k=b.querySelectorAll("div"),l=b.querySelectorAll("span"),m=!0,n=0;n<k.length;n++)k[n].onclick=function(){if(m)for(var e=0;e<k.length;e++){var f=k[e].offsetLeft+k[e].offsetWidth/2-b.offsetWidth/2,g=k[e].offsetTop+k[e].offsetHeight/2-b.offsetHeight/2;k[e].style.backgroundImage="url(images/works4/"+(e+1)+".jpg)",k[e].style.transform="rotateZ("+a(-20,20)+"deg) translate("+f/4+"px,"+g/4+"px)",k[e].style.border="6px solid #fff",c.style.display=d.style.display="none",l[e].style.transition="1.5s all ease",l[e].style.opacity=0}else for(var e=0;e<k.length;e++){var f=k[e].offsetLeft+k[e].offsetWidth/2-b.offsetWidth/2,g=k[e].offsetTop+k[e].offsetHeight/2-b.offsetHeight/2;k[e].style.transform="rotateZ(0deg) translate(0px)",k[e].style.border="2px solid #fff",c.style.display=d.style.display="block",l[e].style.transition="1.5s all ease",l[e].style.opacity=1}m=!m};var o=1,p=!0;c.onclick=function(){if(p){p=!0,o++;for(var a=0;a<l.length;a++)l[a].style.transition=".7s all ease",l[a].style.backgroundImage="url(images/works4/img/"+(o%24+1)+".jpg)";l[0].addEventListener("transitionend",function(){p=!0},!1)}},d.onclick=function(){o--,0==o&&(o=23);for(var a=0;a<l.length;a++)l[a].style.transition=".7s all ease",l[a].style.backgroundImage="url(images/works4/img/"+o%24+".jpg)";l[0].addEventListener("transitionend",function(){p=!0},!1)},function(){var a=document.querySelector(".slide_show"),b=a.querySelectorAll("li"),c=(a.querySelectorAll("img"),document.getElementById("slide_next"));document.getElementById("slide_prev");c.onclick=function(){for(var a=0;a<b.length;a++)b[a].style.transition="1s all ease "+200*a+"ms",b[a].style.opacity=0}}();var q=document.querySelector(".pics_show"),r=document.getElementById("pics_btn1"),s=document.getElementById("pics_btn2"),t=document.getElementById("pics_btn3"),e=(document.getElementById("pics_btn4"),document.getElementById("pics_btn5"),7),f=4,p=!0;!function(){var a=q.querySelector(".page"),b=q.querySelector(".front1"),c=q.querySelector(".back1"),d=q.querySelector(".page2"),e=0;r.onclick=function(){p&&(p=!1,e++,a.style.transition="1s all ease",a.style.transform="perspective(800px) rotateY(-180deg)",a.addEventListener("transitionend",function(){a.style.transition="none",a.style.transform="perspective(800px) rotateY(0deg)",q.style.backgroundImage="url(images/work7/"+e%3+".jpg)",b.style.backgroundImage="url(images/work7/"+e%3+".jpg)",c.style.backgroundImage="url(images/work7/"+(e+1)%3+".jpg)",d.style.backgroundImage="url(images/work7/"+(e+1)%3+".jpg)",p=!0},!1))}}(),function(){for(var a=document.querySelector(".pics2"),b=4,c=7,d=0;d<b;d++)for(var e=0;e<c;e++){var f=document.createElement("div");f.innerHTML='<div class="front2"></div><div class="back2"></div>',f.className="page-2",f.style.width=a.offsetWidth/c+"px",f.style.height=a.offsetHeight/b+"px",f.style.left=a.offsetWidth/c*e+"px",f.style.top=a.offsetHeight/b*d+"px",a.appendChild(f),f.r=e,f.c=d;var g=f.querySelector(".front2"),h=f.querySelector(".back2");g.style.backgroundPosition=-a.offsetWidth/c*e+"px -"+a.offsetHeight/b*d+"px",h.style.backgroundPosition=-a.offsetWidth/c*e+"px -"+a.offsetHeight/b*d+"px"}var i=a.children,j=a.querySelectorAll(".front2"),k=a.querySelectorAll(".back2"),l=0;s.onclick=function(){if(p){p=!1,l++;for(var b=0;b<i.length;b++)i[b].style.transition=".7s all ease "+200*(i[b].r+i[b].c)+"ms",i[b].style.transform="perspective(800px) rotateY(-180deg)";f.addEventListener("transitionend",function(){for(var b=0;b<i.length;b++)i[b].style.transition="none",i[b].style.transform="perspective(800px) rotateY(0deg)",a.style.backgroundImage="url(images/work7/"+l%3+".jpg)",j[b].style.backgroundImage="url(images/work7/"+l%3+".jpg)",k[b].style.backgroundImage="url(images/work7/"+(l+1)%3+".jpg)",i[b].style.backgroundImage="url(images/work7/"+(l+1)%3+".jpg)";p=!0},!1)}}}(),function(){for(var b=document.querySelector(".pics3"),c=0;c<f;c++)for(var d=0;d<e;d++){var g=document.createElement("span");g.className="page-3",g.style.width=b.offsetWidth/e+"px",g.style.height=b.offsetHeight/f+"px",g.style.left=b.offsetWidth/e*d+"px",g.style.top=b.offsetHeight/f*c+"px",g.style.backgroundPosition=-b.offsetWidth/e*d+"px -"+b.offsetHeight/f*c+"px",b.appendChild(g)}var h=b.children,i=0;t.onclick=function(){if(p){p=!1,i++;for(var c=0;c<h.length;c++){var d=h[c].offsetLeft+h[c].offsetWidth/2-b.offsetWidth/2,e=h[c].offsetTop+h[c].offsetHeight/2-b.offsetHeight/2;h[c].style.transition=".7s all ease",h[c].style.transform="perspective(800px) translate("+d+"px,"+e+"px) rotateX("+a(-180,180)+"deg) rotateY("+a(-180,180)+"deg)",h[c].style.opacity=0}g.addEventListener("transitionend",function(){for(var a=0;a<h.length;a++)h[a].style.transition="none",h[a].style.transform="perspective(800px) translate(0px,0px) rotateX(0deg) rotateY(0deg)",h[a].style.opacity=1,b.style.backgroundImage="url(images/work7/"+(i+1)%3+".jpg)",h[a].style.backgroundImage="url(images/work7/"+i%3+".jpg)";p=!0},!1)}}}()}()});