<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./grid.js"></script>
    <script src="./version.js"></script>
    <script src="./detector.js"></script>
    <script src="./formatinf.js"></script>
    <script src="./errorlevel.js"></script>
    <script src="./bitmat.js"></script>
    <script src="./datablock.js"></script>
    <script src="./bmparser.js"></script>
    <script src="./datamask.js"></script>
    <script src="./rsdecoder.js"></script>
    <script src="./gf256poly.js"></script>
    <script src="./gf256.js"></script>
    <script src="./decoder.js"></script>
    <script src="./qrcode.js"></script>
    <script src="./findpat.js"></script>
    <script src="./alignpat.js"></script>
    <script src="./databr.js"></script>
</head>
<body>
    <div id="main">
        <div class="demo">
            <p>
                <label>请选择一个图像文件</label><br>
                <input type="file" id="file_input">
            </p>
            <div id="result">
                <!-- 读取结果 -->
            </div>
        </div>
        <br>

        <br>
    </div>
</body>
<script>
    var result = document.getElementById('result');
    var input = document.getElementById('file_input');

    input.onchange = function(){
        var file = this.files[0];
        console.log(file);

        var reader = new FileReader();

        reader.readAsDataURL(file);

        reader.onload = function(){
            qrcode.decode(this.result);

            qrcode.callback = function(d,status){
                document.write(d);
            }
        }
    }
</script>
</html>
