domReady(function(){!function(){function e(e){e.onmousedown=function(t){var o=t||event,f=o.clientX-e.offsetLeft,i=o.clientY-e.offsetTop;return e.style.zIndex=u++,document.onmousemove=function(t){for(var o=t||event,s=o.clientX-f,u=o.clientY-i,d=n(e),c=0;c<l.length;c++)l[c].className="fl";d&&(d.className="fl active"),e.style.left=s+"px",e.style.top=u+"px"},document.onmouseup=function(){var t=n(e);if(t){move(t,{left:s[e.index].left,top:s[e.index].top}),move(e,{left:s[t.index].left,top:s[t.index].top});var o;o=t.index,t.index=e.index,e.index=o,t.className=""}else move(e,{left:s[e.index].left,top:s[e.index].top});document.onmousemove=null,document.onmouseup=null,e.releaseCapture&&e.releaseCapture()},e.setCapture&&e.setCapture(),!1}}function t(e,t){var o=e.offsetLeft,n=e.offsetTop,f=e.offsetLeft+e.offsetWidth,l=e.offsetTop+e.offsetHeight,i=t.offsetLeft,s=t.offsetTop,u=t.offsetLeft+t.offsetWidth,d=t.offsetTop+t.offsetHeight;return!(f<i||l<s||o>u||n>d)}function o(e,t){var o=t.offsetLeft-e.offsetLeft,n=t.offsetTop-e.offsetTop;return Math.sqrt(o*o+n*n)}function n(e){for(var n=999999999999,f=-1,i=0;i<l.length;i++)if(e!=l[i]&&t(e,l[i])){var s=o(e,l[i]);s<n&&(n=s,f=i)}return f!=-1&&l[f]}for(var f=document.getElementById("pic-drag"),l=f.getElementsByTagName("li"),i=document.getElementById("drag-btn"),s=[],u=20,d=0;d<l.length;d++)s.push({left:l[d].offsetLeft,top:l[d].offsetTop});for(var d=0;d<l.length;d++)l[d].style.position="absolute",l[d].style.left=s[d].left+"px",l[d].style.top=s[d].top+"px",l[d].style.margin=0;i.onclick=function(){s.sort(function(){return Math.random()-.5});for(var e=0;e<l.length;e++)move(l[e],{left:s[e].left,top:s[e].top})};for(var d=0;d<l.length;d++)e(l[d]),l[d].index=d}(),function(){var e=document.getElementById("slide"),t=e.children[2],o=t.children,n=document.getElementById("next"),f=document.getElementById("prev"),l=1;e.onmouseover=function(){f.style.opacity="1",n.style.opacity="1"},e.onmouseout=function(){f.style.opacity="0",n.style.opacity="0"},t.style.left=-l*o[0].offsetWidth+"px",n.onclick=function(){l--,move(t,{left:-l*o[0].offsetWidth},{complete:function(){0==l&&(l=o.length-2,t.style.left=-l*o[0].offsetWidth+"px")}})},f.onclick=function(){l++,move(t,{left:-l*o[0].offsetWidth},{complete:function(){l==o.length-2&&(l=0,t.style.left=-l*o[0].offsetWidth+"px")}})}}(),function(){for(var e=document.getElementById("move"),t=7,o=4,n=0;n<o;n++)for(var f=0;f<t;f++){var l=document.createElement("span");e.appendChild(l),l.style.width=e.offsetWidth/t+"px",l.style.height=e.offsetHeight/o+"px",l.style.position="absolute",l.style.left=e.offsetWidth/t*f+"px",l.style.top=e.offsetHeight/o*n+"px",l.style.backgroundPosition=-e.offsetWidth/t*f+"px -"+e.offsetHeight/o*n+"px",l.r=f,l.c=n}var i=e.children,s=0,u=!1;document.onclick=function(){if(!u){u=!0,e.style.backgroundImage="url(img/"+s%3+".jpg)",s++;for(var n=0;n<i.length;n++)!function(e){timer=setTimeout(function(){i[e].style.backgroundImage="url(img/"+s%3+".jpg)",i[e].style.opacity=0,move(i[e],{opacity:1}),i[e].r==t-1&&i[e].c==o-1&&(u=!1)},150*(i[e].r+i[e].c))}(n)}}}(),function(){var e=document.getElementById("wrap"),t=e.getElementsByTagName("ul")[0],o=t.children,n=0;t.onmousedown=function(e){var f=e||event,l=f.clientX-t.offsetLeft,i=f.clientX;return clearInterval(t.timer),document.onmousemove=function(e){var o=e||event,n=o.clientX-l;t.style.left=n+"px"},document.onmouseup=function(e){var f=e||event,l=f.clientX;Math.abs(l-i)>30?l>i?(n++,1==n&&(n=0),move(t,{left:n*o[0].offsetWidth},{easing:"linear",duration:"500"})):(n--,n<-3&&(n=-3),move(t,{left:n*o[0].offsetWidth},{easing:"linear",duration:"500"})):move(t,{left:n*o[0].offsetWidth}),document.onmousemove=null,document.onmouseup=null},!1}}(),function(){function e(){for(var e=0;e<n.length;e++){var l=Math.abs(t.offsetWidth/2-n[0].offsetWidth/2-o.offsetLeft-n[e].offsetLeft),i=(1-l/500).toFixed(2);i<=.5&&(i=.5),f[e].style.width=520*i+"px",f[e].style.height=350*i+"px",f[e].style.marginLeft=-(520*i-260)/2+"px",f[e].style.marginTop=-(350*i-179)/2+"px",n[e].style.zIndex=1e9*i}}var t=document.getElementById("slide-h"),o=t.children[0],n=o.children,f=o.getElementsByTagName("img");o.style.width=n[0].offsetWidth*n.length+"px",o.style.left=t.offsetWidth/2-2.5*n[0].offsetWidth+"px",e();for(var l=0;l<n.length;l++){var i=document.createElement("span");n[l].appendChild(i)}o.getElementsByTagName("span");o.onmousedown=function(f){var l=f||event,i=l.clientX-o.offsetLeft;return document.onmousemove=function(f){var l=f||event,s=l.clientX-i;s>=t.offsetWidth/2-.5*n[0].offsetWidth&&(s=t.offsetWidth/2-.5*n[0].offsetWidth),s<=t.offsetWidth/2-(n.length-1+.5)*n[0].offsetWidth&&(s=t.offsetWidth/2-(n.length-1+.5)*n[0].offsetWidth),e(),o.style.left=s+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null},!1}}(),function(){for(var e=document.getElementById("qin"),t=e.getElementsByTagName("ul")[0],o=e.getElementsByTagName("li"),n=50,f=1;f<o.length;f++)o[f].style.left=t.offsetWidth-(o.length-f)*n+"px";for(var f=0;f<o.length;f++)o[f].index=f,o[f].onmouseover=function(){for(var e=0;e<o.length;e++)this.index>=e?move(o[e],{left:e*n}):move(o[e],{left:t.offsetWidth-(o.length-e)*n})}}()});